!function e(t,o,n){function i(s,d){if(!o[s]){if(!t[s]){var a="function"==typeof require&&require;if(!d&&a)return a(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+s+"'")}var l=o[s]={exports:{}};t[s][0].call(l.exports,function(e){var o=t[s][1][e];return i(o?o:e)},l,l.exports,e,t,o,n)}return o[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,o){t.exports={Timer:this.Timer||25,DelayFactor:3,RefreshTimers:{},Ads:{},AdsViewed:[],StopRefresh:!1,AdsNotToRefresh:[],DelayedSlots:[],StoppedSlots:[],Site:window.location.hostname.split(".").filter(function(e,t,o){return t>=o.length-2}).join("."),MarkOrRefresh:function(e){var t;try{if(t=e.slot.getSlotElementId(),__ZDRefresher.AdsViewed.indexOf(t)<0&&__ZDRefresher.AdsViewed.push(t),__ZDRefresher.StoppedSlots.indexOf(t)>-1)return;__ZDRefresher.StoppedSlots.indexOf(t)<0&&"undefined"==typeof __ZDRefresher.RefreshTimers[t]&&__ZDRefresher.Ads[t]&&__ZDRefresher.RefreshAd(__ZDRefresher.Ads[t])}catch(o){console.log(o)}},SlotRendered:function(e){if(__ZDRefresher.IsRefreshableAd(e)&&!__ZDRefresher.StopRefresh){var t=e.slot.getSlotElementId();if(__ZDRefresher.StoppedSlots.indexOf(t)>-1)return;"undefined"==typeof __ZDRefresher.Ads[t]&&(__ZDRefresher.Ads[t]=e.slot);var o=1e3,n=__ZDRefresher.DelayedSlots.indexOf(t);n>-1&&(o*=__ZDRefresher.DelayFactor,__ZDRefresher.DelayedSlots.splice(n,1)),__ZDRefresher.RefreshTimers[t]=window.setTimeout(__ZDRefresher.RefreshAd.bind(void 0,e.slot),__ZDRefresher.Timer*o)}},RefreshAd:function(e){if(window.googletag&&!__ZDRefresher.StopRefresh){var t=e.getSlotElementId();if(!(__ZDRefresher.StoppedSlots.indexOf(t)>-1)){if(__ZDRefresher.AdsViewed.indexOf(t)<0)return void __ZDRefresher.ClearTimer(t);"undefined"!=typeof __ZDDMP&&__ZDDMP.NewCorrelator&&e.setTargeting("zc",__ZDDMP.NewCorrelator()),e.setTargeting("rfr","true"),"undefined"!=typeof pbjs&&pbjs.libLoaded?(__ZDPB.setIASPetData(),__ZDPB.setMoatPrebidData(),__ZDRefresher.GetBids(t,e)):__ZDPB.loadAmazonHeaderBids(e),__ZDRefresher.RefreshTimers[t]=void 0;var o=__ZDRefresher.AdsViewed.indexOf(t);__ZDRefresher.AdsViewed.splice(o,1)}}},ClearTimer:function(e){__ZDRefresher.RefreshTimers[e]&&(window.clearTimeout(__ZDRefresher.RefreshTimers[e]),__ZDRefresher.RefreshTimers[e]=void 0)},CheckAndRefresh:function(e){if(window.googletag&&!(e.length<=0)){var t=[];e.forEach(function(e){__ZDRefresher.Ads[e]&&("undefined"!=typeof __ZDDMP&&__ZDDMP.NewCorrelator&&__ZDRefresher.Ads[e].setTargeting("zc",__ZDDMP.NewCorrelator()),__ZDRefresher.Ads[e].setTargeting("rfr","true"),t.push(__ZDRefresher.Ads[e]),__ZDRefresher.ClearTimer(e))}),t.length>0&&"undefined"!=typeof pbjs&&pbjs.libLoaded?t.forEach(function(e){__ZDRefresher.GetBids(e.getSlotElementId(),e)}):t.length>0&&__ZDPB.loadAmazonHeaderBids(ad)}},DelayAd:function(e){__ZDRefresher.DelayedSlots.push(__ZDRefresher.GetContainerDivId(e))},StopAd:function(e){__ZDRefresher.StoppedSlots.push(e)},StopMessage:function(e){var t=e.data;if("string"==typeof t)try{t=JSON.parse(t)}catch(o){return}if("stopadrefresh"==t.event){e.source||e.originalEvent.source;try{__ZDRefresher.StopAd(t.name)}catch(o){console.log(o)}}},GetContainerDivId:function(e){var t=e.parent.document.getElementById(e.name);return null===t?null:t.parentNode.parentNode.id},IsRefreshableAd:function(e){return!e.isEmpty&&e.size&&e.size[0]>5&&e.size[1]>5||e.isEmpty&&e.slot.getSizes().some(function(e){return e.a>5&&e.b>5})},GetBids:function(e,t){pbjs.que.push(function(){pbjs.requestBids({timeout:PREBID_TIMEOUT,adUnitCodes:[e],bidsBackHandler:function(o){pbjs.setConfig({enableSendAllBids:!0,userSync:{iframeEnabled:!0,syncDelay:6e3}}),pbjs.setTargetingForGPTAsync(e),__ZDPB.loadAmazonHeaderBids(t)}})})}}},{}],2:[function(e,t,o){t.exports={__pageCorrelator:"",GetCookie:function(e){for(var t=e+"=",o=document.cookie.split(";"),n=0;n<o.length;n++){for(var i=o[n];" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return""},GetUSegs:function(){var e,t=[];return e=this.GetCookie("_g_m"),/^\.[0-9.]*\.$/.test(e)&&(t=e.split("."),t=t.slice(1,t.length-1)),t},GetZDBB:function(){var e;return e=this.GetCookie("h_zdbb"),/^[a-zA-Z0-9]{32}$/.test(e)?e:""},GetPSegs:function(){return"undefined"==typeof __ZD_SEG_?[]:__ZD_SEG_},PageCorrelator:function(){return""===this.__pageCorrelator&&(this.__pageCorrelator=this.NewCorrelator()),this.__pageCorrelator},RefreshPageCorrelator:function(){this.__pageCorrelator=this.NewCorrelator()},Init:function(){var e=document.cookie;if(""===this.GetZDBB()||-1===e.indexOf("_g_m=")){var t=window.location.hostname||window.location.host;void 0!==t&&(t=t.split(".").slice(-2).join("."));var o="https:"===document.location.protocol?"https://":"http://",n=o+"gurgle.zdbb.net/?domain=",i=n+t;o=(new Image).src=i}if("undefined"==typeof __ZD_SEG_){var r=document.getElementsByTagName("head")[0],s=document.createElement("script");s.src="//gurgle.zdbb.net/segments.js?url="+encodeURIComponent(window.location),s.type="text/javascript",r.appendChild(s)}},Event:function(e){var t={taboola:"gC3ekw7UEeWRqiIAC39GJQ"};if("object"==typeof e&&"string"==typeof e.signal&&"undefined"!=typeof t[e.signal]){var o=t[e.signal],n=[];for(var i in e)e.hasOwnProperty(i)&&n.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return(new Image).src="//zdbb.net/n/"+o+"?"+n.join("&"),!0}return!1},GetDebugTag:function(){var e;return e=this.GetCookie("_g_q"),e.length>0?";netshelterqa="+e:""},GetAdString:function(e){var t,o,n="",i="",r="",s=";zcp="+this.PageCorrelator();return e=e||0,o=this.GetZDBB(),o.length&&(i=";zdbb="+o),t=this.GetUSegs(),t.length&&(e>0&&e<t.length&&(t.length=e),n=";s="+t.join(";s=")),t=this.GetPSegs(),t.length&&(e>0&&e<t.length&&(t.length=e),r=";p="+t.join(";p=")),s+n+r+this.GetDebugTag()}}},{}],3:[function(e,t,o){var n=e("./parseUri.js"),i=e("./outOfFocus.js");t.exports={AdPackage:this.AdPackage||{},LazyAds:this.LazyAds||[],ImmediateAds:this.ImmediateAds||[],BuildGPT:function(e){this.AdPackage=e;var t=this;googletag.cmd.push(function(){googletag.pubads().disableInitialLoad(),t.PushGPT(e),__ZDPB.setIASPetData(),__ZDPB.setMoatPrebidData(),googletag.pubads().enableSingleRequest(),googletag.pubads().enableAsyncRendering()})},Debug:function(){return window.location.href.indexOf("_ad_qa=1")},DefineSlot:function(e,t,o,n,i){var r=googletag.defineSlot(e,o,t);return r.defineSizeMapping(n),this.PreBid(e),this.PubAds(r),i?(newAdSlotObject={locationId:t,isLoaded:!1,adSlot:r},this.LazyAds.push(newAdSlotObject)):(newAdSlotObject={locationId:t,isLoaded:!1,adSlot:r},this.ImmediateAds.push(newAdSlotObject)),r},DefineOutOfPageSlot:function(e,t,o){var n=googletag.defineOutOfPageSlot(e,t);return this.PubAds(n),o?(newAdSlotObject={locationId:t,isLoaded:!1,adSlot:n},this.LazyAds.push(newAdSlotObject)):(newAdSlotObject={locationId:t,isLoaded:!1,adSlot:n},this.ImmediateAds.push(newAdSlotObject)),n},DisplayAds:function(e){for(var t={},o=0;o<e.length;o++)try{document.getElementById(e[o].DivId)&&("All"==e[o].Viewport||window.innerWidth>=980&&"Desktop"==e[o].Viewport||window.innerWidth<980&&"Mobile"==e[o].Viewport)&&(googletag.display(e[o].DivId),window.console.table&&-1!==this.Debug()&&(t[e[o].DivId]={},t[e[o].DivId].InPage=!e[o].IsOutOfPage,t[e[o].DivId].Position=e[o].Position,t[e[o].DivId].SizeMappings=JSON.stringify(e[o].BrowserSizeMappings),t[e[o].DivId].Viewport=e[o].Viewport))}catch(n){console.log("Error: "+n.message)}window.console.table&&-1!==this.Debug()&&(console.log("Created Ad Object: "),console.table(t))},EnableServices:function(){googletag.enableServices()},Mapping:function(e){var t=googletag.sizeMapping().addSize([0,0],[]);for(var o in e){var n=e[o];o=JSON.parse(o),t.addSize([o,50],n)}return t.build()},PreBid:function(e){},PubAds:function(e){e.addService(googletag.pubads())},PushGPT:function(e){for(var t=this,o=0;o<e.length;o++)try{if(document.getElementById(e[o].DivId)&&("All"==e[o].Viewport||window.innerWidth>=980&&"Desktop"==e[o].Viewport||window.innerWidth<980&&"Mobile"==e[o].Viewport)){"undefined"!=typeof e[o].BrowserSizeMappings&&(mapping=t.Mapping(e[o].BrowserSizeMappings));var n=e[o].IsOutOfPage?t.DefineOutOfPageSlot(e[o].AdUnitPath,e[o].DivId,e[o].LazyLoad):t.DefineSlot(e[o].AdUnitPath,e[o].DivId,[e[o].ListedSize.Width,e[o].ListedSize.Height],mapping,e[o].LazyLoad);t.SetTargeting(n,e[o].targetingKeys),t.SetCollapseEmptyDiv(n)}}catch(i){console.log("Error: "+i.message)}},SetTargeting:function(e,t){var o=n.ParseUri(window.location.href),r=n.ExtraValues();o.queryKey&&Object.keys(o.queryKey).forEach(function(t){e.setTargeting(t,o.queryKey[t])}),e.setTargeting("ref",r),e.setTargeting("OOF",i.detectOOF()),"undefined"!=typeof __ZDDMP&&(e.setTargeting("zc",__ZDDMP.NewCorrelator()),e.setTargeting("zcp",__ZDDMP.PageCorrelator()),e.setTargeting("s",__ZDDMP.GetUSegs()),e.setTargeting("p",__ZDDMP.GetPSegs()),e.setTargeting("zdbb",__ZDDMP.GetZDBB())),e.setTargeting("rfr","false"),e.setTargeting("divId",e.getSlotElementId());for(var s in t){var d=t[s];e.setTargeting(s,d)}},SetCollapseEmptyDiv:function(e){e.setCollapseEmptyDiv(!0)}}},{"./outOfFocus.js":5,"./parseUri.js":6}],4:[function(e,t,o){t.exports=function(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t.exports)}},{}],5:[function(e,t,o){t.exports={detectOOFChange:function(){function e(e){e=e||window.event}var t="hidden";t in document?document.addEventListener("visibilitychange",e):(t="mozHidden")in document?document.addEventListener("mozvisibilitychange",e):(t="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",e):(t="msHidden")in document?document.addEventListener("msvisibilitychange",e):"onfocusin"in document?document.onfocusin=e:window.onpageshow=window.onfocus=e,void 0!==document[t]&&e({type:document[t]?"blur":"focus"})},detectOOF:function(){return"undefined"!=typeof document.hidden?document.hidden.toString():document.hasFocus()?"false":"true"}}},{}],6:[function(e,t,o){t.exports={ParseUri:function(e,t){for(var o={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=o.parser[t||"loose"].exec(e),i={},r=14;r--;)i[o.key[r]]=n[r]||"";return i[o.q.name]={},i[o.key[12]].replace(o.q.parser,function(e,t,n){t&&(i[o.q.name][t]=n)}),i},ExtraValues:function(){var e="";if(""!==document.referrer)if(""!==document.location.search){for(var t,o=[],n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),i=0;i<n.length;i++)t=n[i].split("="),o.push(t[0]),o[t[0]]=t[1];if("undefined"!=typeof o.ref)e=o.ref;else{var r=this.ParseUri(document.referrer).host,s=r.split(".");e=encodeURIComponent(s.slice(s.length-2).join("."))}}else{var r=this.ParseUri(document.referrer).host,s=r.split(".");e=encodeURIComponent(s.slice(s.length-2).join("."))}else e="null";return e}}},{}],7:[function(e,t,o){var n=e("./preBidSettings.js");t.exports={AdsLoaded:this.AdsLoaded||!1,BidderSettings:function(e){pbjs.bidderSettings=e},Debug:function(){return window.location.href.indexOf("_ad_qa=1")},GetBids:function(e){this.PushBids(e)},setIASPetData:function(){var e,t=window.__iasPET||{};t.queue=t.queue||[],t.pubId="7529";var e=function(e){t.setTargetingForGPT()};googletag.cmd.push(function(){for(var o=googletag.pubads().getSlots(),n=[],i=0;i<o.length;i++){var r=o[i].getSizes().map(function(e){return e.getWidth&&e.getHeight?[e.getWidth(),e.getHeight()]:[1,1]});n.push({adSlotId:o[i].getSlotElementId(),size:r,adUnitPath:o[i].getAdUnitPath()})}t.queue.push({adSlots:n,dataHandler:e})})},setMoatPrebidData:function(){function e(){return window.moatPrebidApi&&"function"==typeof window.moatPrebidApi.slotDataAvailable&&window.moatPrebidApi.slotDataAvailable()?(-1!=window.location.search.indexOf("moatDebug")&&window.moatPrebidApi.enableLogging(),clearInterval(t),window.moatPrebidApi.setMoatTargetingForAllSlots()):void 0}var t=setInterval(e,100);setTimeout(function(){"undefined"!=typeof window.moatPrebidApi&&"function"==typeof window.moatPrebidApi.slotDataAvailable||clearInterval(t)},3500)},loadAmazonHeaderBids:function(e){var t=e.getSizes().map(function(e){return e.getWidth&&e.getHeight&&e.getWidth()>1?[e.getWidth(),e.getHeight()]:!1});0!=t[0]&&"undefined"!=typeof apstag?apstag.fetchBids({slots:[{slotID:e.getSlotElementId(),sizes:__ZDPB.ParseSizeMappings(e),slotName:e.getAdUnitPath()}],timeout:2e3},function(t){googletag.cmd.push(function(){apstag.setDisplayBids(),googletag.pubads().refresh([e],{changeCorrelator:!1})})}):window.googletag&&window.googletag.pubadsReady&&googletag.pubads().refresh([e],{changeCorrelator:!1})},ParseSizeMappings:function(e){try{var t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,o=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,n=e.getSizes(t,o).map(function(e){return[e.getWidth(),e.getHeight()]});return n}catch(i){return console.log("error parsing sizeMappings:"),console.log(e),console.log(i),[]}},LoadAds:function(e){__ZDPB.AdsLoaded!==!0&&(__ZDPB.AdsLoaded=!0,googletag.cmd.push(function(){"undefined"!=typeof pbjs&&pbjs.libLoaded&&pbjs.setTargetingForGPTAsync(),__ZDGPT.EnableServices(),__ZDGPT.DisplayAds(__ZDGPT.AdPackage);try{e.forEach(function(e){if(!e.isLoaded){if(e.isLoaded=!0,window.console.table&&-1!==__ZDGPT.Debug()){var t=pbjs.getBidResponsesForAdUnitCode(e.locationId),o=pbjs.getAdserverTargetingForAdUnitCode(e.locationId),n=pbjs.getHighestCpmBids(e.locationId);console.log("------------------"),console.log(e.adSlot.getSlotElementId()),console.log(t),console.log(o),console.log(n[0])}__ZDPB.loadAmazonHeaderBids(e.adSlot)}})}catch(t){console.log(t)}}))},ResetGpt:function(){window.googletag={},window.googletag.cmd=[],__ZDGPT.BuildGPT(__ZDGPT.AdPackage)},LoadandResetGpt:function(){window.gptLoadComplete&&window.sourcepointTripwire&&(console.log("adblocker detected and GPT loaded - loading proxied GPT"),this.ResetGpt(),window._sp_.dfp.loadGPT())},LoadPreBid:function(){},PreBid:function(e,t){setTimeout(function(){__ZDPB.LoadAds(__ZDGPT.ImmediateAds)},__ZDPB.PreBidTimeout(t)),this.LoadPreBid(),this.GetBids(e),this.BidderSettings(n)},PreBidTimeout:function(e){return e||500},PushBids:function(e){var t=this;if(window.console.table&&-1!==t.Debug()){var o={};e.forEach(function(e,t){o[e.code]={},o[e.code].bids=e.bids,o[e.code].sizes=JSON.stringify(e.sizes)}),console.table(o)}var n=e.filter(function(e,t){return document.querySelector("#"+e.code)});pbjs.que.push(function(){pbjs.addAdUnits(n),t.RequestBids()})},RequestBids:function(){_self=this,pbjs.setConfig({enableSendAllBids:!0,userSync:{iframeEnabled:!0}}),pbjs.requestBids({bidsBackHandler:function(e){__ZDPB.LoadAds(__ZDGPT.ImmediateAds)}})},SiteName:function(){return-1!==window.location.hostname.indexOf("localhost")?"pcmag.com":window.location.hostname.split(".").filter(function(e,t,o){return t>=o.length-2}).join(".")}}},{"./preBidSettings.js":8}],8:[function(e,t,o){t.exports={standard:{alwaysUseBid:!1,adserverTargeting:[{key:"hb_bidder",val:function(e){return e.bidderCode}},{key:"hb_adid",val:function(e){return e.adId}},{key:"hb_pb",val:function(e){return e.cpm>200?(10*Math.floor(Math.min(parseInt(e.cpm),500)/10)).toFixed(2):e.cpm>40?Math.floor(e.cpm).toFixed(2):e.cpm>30?(Math.floor(10*e.cpm)/10).toFixed(2):parseFloat(e.cpm).toFixed(2)}},{key:"hb_size",val:function(e){return e.size}},{key:"hb_cpm",val:function(e){return e.cpm}},{key:"hb_dealid",val:function(e){return"undefined"==typeof e.dealId?"0":e.dealId}}]}}},{}],9:[function(e,t,o){(function(t){var o=e("../lib/guidish.js"),n=e("../lib/dmp.js");t.__ZDDMP=t.__ZDDMP||n,t.__ZDDMP.NewCorrelator=t.__ZDDMP.NewCorrelator||o,t.__ZDDMP.Init(),t.__ZDGPT=e("../lib/gptBuilder.js"),window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],t.__ZDPB=e("../lib/preBidBuilder.js"),window.gptLoadComplete=window.gptLoadComplete||!1,window.sourcepointTripwire=window.sourcepointTripwire||!1,t.__ZDRefresher=e("../lib/adRefresher.js"),window.addEventListener("message",t.__ZDRefresher.StopMessage,!1),window.googletag&&window.googletag.cmd.push(function(){-1!==__ZDGPT.Debug()&&window.googletag.pubads().addEventListener("slotRenderEnded",function(e){console.log("Creative with id: "+e.creativeId+" is rendered to slot of size: "+e.size[0]+"x"+e.size[1]),e.isEmpty||document.getElementById(e.slot.getSlotElementId()).classList.contains("ad-loaded")?console.log(document.getElementById(e.slot.getSlotElementId())+" loaded again"):document.getElementById(e.slot.getSlotElementId()).setAttribute("class","ad-loaded"),console.log(document.querySelectorAll(".ad-loaded"))}),window.googletag.pubads().addEventListener("impressionViewable",t.__ZDRefresher.MarkOrRefresh),window.googletag.pubads().addEventListener("slotRenderEnded",t.__ZDRefresher.SlotRendered)})}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/adRefresher.js":1,"../lib/dmp.js":2,"../lib/gptBuilder.js":3,"../lib/guidish.js":4,"../lib/preBidBuilder.js":7}]},{},[9]);